sudo dnf install snapper python3-dnf-plugin-snapper

sudo snapper -c root create-config /

sudo snapper -c home create-config /home

sudo snapper list-configs

sudo snapper -c root set-config ALLOW_USERS=$USER SYNC_ACL=yes

sudo snapper -c home set-config ALLOW_USERS=$USER SYNC_ACL=yes

sudo chown -R :$USER /.snapshots

sudo chown -R :$USER /home/.snapshots

sudo systemctl daemon-reload

sudo mount -va

lsblk -p /dev//dev/nvme0n1

sudo btrfs subvolume list /

echo 'SUSE_BTRFS_SNAPSHOT_BOOTING="true"' | sudo tee -a /etc/default/grub

sudo sed -i '1i set btrfs_relative_path="yes"' /boot/efi/EFI/fedora/grub.cfg

sudo grub2-mkconfig -o /boot/grub2/grub.cfg

sudo grub2-editenv - unset menu_auto_hide

snapper -c root ls
or
snapper ls
